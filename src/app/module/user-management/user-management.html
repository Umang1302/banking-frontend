<div class="user-management-container">
  <!-- Header -->
  <div class="management-header">
    <h1 class="page-title">User Management</h1>
    <p class="page-description">Review and approve user profile submissions</p>
  </div>

  <!-- Pending Approvals Section -->
  <div class="section">
    <h2 class="section-title">
      <span class="section-icon">‚è≥</span>
      Pending Approvals ({{ pendingUsers.length }})
    </h2>
    
    <div class="users-grid" *ngIf="pendingUsers.length > 0; else noUsers">
      <div class="user-card" *ngFor="let user of pendingUsers">
        <!-- User Header -->
        <div class="user-header">
          <div class="user-avatar">
            {{ user.firstName?.charAt(0) }}{{ user.lastName?.charAt(0) }}
          </div>
          <div class="user-basic-info">
            <h3 class="user-name">{{ user.firstName }} {{ user.lastName }}</h3>
            <p class="user-username">@{{ user.username }}</p>
            <span class="status-badge" [class]="getStatusBadgeClass(user.status || '')">
              {{ user.status }}
            </span>
          </div>
        </div>

        <!-- User Details -->
        <div class="user-details">
          <div class="detail-group">
            <h4>Contact Information</h4>
            <div class="detail-item">
              <span class="label">Email:</span>
              <span class="value">{{ user.email }}</span>
            </div>
            <div class="detail-item">
              <span class="label">Mobile:</span>
              <span class="value">{{ user.mobile }}</span>
            </div>
          </div>

          <div class="detail-group">
            <h4>Address</h4>
            <div class="detail-item">
              <span class="label">Address:</span>
              <span class="value">{{ user.address }}</span>
            </div>
            <div class="detail-item">
              <span class="label">City:</span>
              <span class="value">{{ user.city }}, {{ user.state }} {{ user.zipCode }}</span>
            </div>
          </div>

          <div class="detail-group">
            <h4>Personal Information</h4>
            <div class="detail-item">
              <span class="label">Date of Birth:</span>
              <span class="value">{{ user.dateOfBirth }}</span>
            </div>
            <div class="detail-item">
              <span class="label">Occupation:</span>
              <span class="value">{{ user.occupation }}</span>
            </div>
            <div class="detail-item">
              <span class="label">Annual Income:</span>
              <span class="value">{{ formatCurrency(user.annualIncome) }}</span>
            </div>
          </div>

          <div class="detail-group">
            <h4>Emergency Contact</h4>
            <div class="detail-item">
              <span class="label">Name:</span>
              <span class="value">{{ user.emergencyContactName }}</span>
            </div>
            <div class="detail-item">
              <span class="label">Phone:</span>
              <span class="value">{{ user.emergencyContactPhone }}</span>
            </div>
          </div>

          <div class="detail-group">
            <h4>Submission Details</h4>
            <div class="detail-item">
              <span class="label">Submitted:</span>
              <span class="value">{{ formatDate(user.profileCompletedAt) }}</span>
            </div>
            <div class="detail-item">
              <span class="label">Current Role:</span>
              <span class="value">{{ user.role }}</span>
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div class="user-actions">
          <button 
            class="approve-btn"
            (click)="approveUser(user)"
            title="Approve user and convert to CUSTOMER">
            <span class="btn-icon">‚úÖ</span>
            Approve & Activate
          </button>
          <button 
            class="reject-btn"
            (click)="rejectUser(user)"
            title="Reject user profile">
            <span class="btn-icon">‚ùå</span>
            Reject
          </button>
        </div>
      </div>
    </div>

    <ng-template #noUsers>
      <div class="empty-state">
        <span class="empty-icon">üìù</span>
        <h3>No Pending Approvals</h3>
        <p>All user profiles have been reviewed.</p>
      </div>
    </ng-template>
  </div>

  <!-- Instructions -->
  <div class="instructions-section">
    <h3>User Status Flow</h3>
    <div class="flow-diagram">
      <div class="flow-step">
        <div class="step-badge pending">PENDING_DETAILS</div>
        <p>User registers and needs to complete profile</p>
      </div>
      <div class="flow-arrow">‚Üí</div>
      <div class="flow-step">
        <div class="step-badge pending">PENDING_APPROVAL</div>
        <p>User submits profile for admin review</p>
      </div>
      <div class="flow-arrow">‚Üí</div>
      <div class="flow-step">
        <div class="step-badge active">ACTIVE</div>
        <p>Admin approves ‚Üí Role changes to CUSTOMER</p>
      </div>
    </div>
    <div class="rejection-flow">
      <div class="flow-step">
        <div class="step-badge rejected">REJECTED</div>
        <p>Admin rejects ‚Üí User can edit and resubmit</p>
      </div>
    </div>
  </div>
</div>
