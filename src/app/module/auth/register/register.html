<div class="register-container">
    <div class="register-card">
      <!-- header -->
      <div class="register-header">
        <div class="logo">
          <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
          <h1>Nedbank</h1>
        </div>
        <p class="register-subtitle">Create Your Banking Account</p>
      </div>
  
      <!-- form -->
      <form class="register-form" (ngSubmit)="onSubmit()" #registerForm="ngForm">
        <!-- Name Fields Row -->
          <div class="form-group">
            <label for="firstName" class="form-label">Username</label>
            <input
              type="text"
              id="firstName"
              name="firstName"
              class="form-input"
              [class.error]="firstNameError() && isFormTouched()"
              [value]="firstName()"
              (input)="onFirstNameChange($event)"
              (blur)="onFirstNameBlur()"
              required
              autocomplete="given-name"
              placeholder="Enter your username"
            />
            <div class="input-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="error-message" *ngIf="firstNameError() && isFormTouched()">
              {{ firstNameError() }}
            </div>
          </div>
  
        <!-- Email Field -->
        <div class="form-group">
          <label for="email" class="form-label">Email Address</label>
          <input
            type="email"
            id="email"
            name="email"
            class="form-input"
            [class.error]="emailError() && isFormTouched()"
            [value]="email()"
            (input)="onEmailChange($event)"
            (blur)="onEmailBlur()"
            required
            autocomplete="email"
            placeholder="Enter your email address"
          />
          <div class="input-icon">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="error-message" *ngIf="emailError() && isFormTouched()">
            {{ emailError() }}
          </div>
        </div>
  
        <!-- Mobile Field -->
        <div class="form-group">
          <label for="mobile" class="form-label">Mobile Number</label>
          <input
            type="tel"
            id="mobile"
            name="mobile"
            class="form-input"
            [class.error]="mobileError() && isFormTouched()"
            [value]="mobile()"
            (input)="onMobileChange($event)"
            (blur)="onMobileBlur()"
            required
            autocomplete="tel"
            placeholder="Enter your mobile number"
          />
          <div class="input-icon">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="5" y="2" width="14" height="20" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
              <line x1="12" y1="18" x2="12.01" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="error-message" *ngIf="mobileError() && isFormTouched()">
            {{ mobileError() }}
          </div>
        </div>
  
        <!-- Password Fields Row -->
        <div class="form-row">
          <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              class="form-input"
              [class.error]="passwordError() && isFormTouched()"
              [value]="password()"
              (input)="onPasswordChange($event)"
              (blur)="onPasswordBlur()"
              required
              autocomplete="new-password"
              placeholder="Create a password"
            />
            <div class="input-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                <circle cx="12" cy="16" r="1" stroke="currentColor" stroke-width="2"/>
                <path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2"/>
              </svg>
            </div>
            <div class="error-message" *ngIf="passwordError() && isFormTouched()">
              {{ passwordError() }}
            </div>
          </div>
  
          <div class="form-group">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              class="form-input"
              [class.error]="confirmPasswordError() && isFormTouched()"
              [value]="confirmPassword()"
              (input)="onConfirmPasswordChange($event)"
              (blur)="onConfirmPasswordBlur()"
              required
              autocomplete="new-password"
              placeholder="Confirm your password"
            />
            <div class="input-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                <path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2"/>
              </svg>
            </div>
            <div class="error-message" *ngIf="confirmPasswordError() && isFormTouched()">
              {{ confirmPasswordError() }}
            </div>
          </div>
        </div>
  
        <!-- Password Requirements -->
        <div class="password-requirements" *ngIf="password() && isFormTouched()">
          <p class="requirements-title">Password Requirements:</p>
        <ul class="requirements-list">
          <li [class.valid]="password().length >= 6">At least 6 characters</li>
        </ul>
        </div>
  
        <!-- Terms and Conditions -->
        <div class="form-group terms-group">
          <label class="checkbox-container">
            <input 
              type="checkbox" 
              [checked]="acceptTerms()" 
              (change)="onAcceptTermsChange($event)" 
              name="acceptTerms"
              required
            >
            <span class="checkmark" [class.error]="termsError() && isFormTouched()"></span>
            <span class="terms-text">
              I accept the <a href="#" class="terms-link">Terms and Conditions</a> and 
              <a href="#" class="terms-link">Privacy Policy</a>
            </span>
          </label>
          <div class="error-message" *ngIf="termsError() && isFormTouched()">
            {{ termsError() }}
          </div>
        </div>
  
        <button type="submit" class="register-button" [class.loading]="isLoading()">
          <span class="button-text">{{ isLoading() ? 'Creating Account...' : 'Create Account' }}</span>
          <svg class="button-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" *ngIf="!isLoading()">
            <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </form>
  
      <!-- footer -->
      <div class="register-footer">
        <p class="security-note">
          <svg class="security-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 22S8 18 8 13V6L12 4L16 6V13C16 18 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Your information is secure and encrypted
        </p>
        <div class="help-links">
          <span>Already have an account? <a [routerLink]="['/login']" class="login-link">Sign In</a></span>
        </div>
      </div>
    </div>
  </div>
  