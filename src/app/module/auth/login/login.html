<div class="login-container">
  <div class="login-card">
    <!-- header -->
    <div class="login-header">
      <div class="logo">
        <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>
        <h1>Nedbank</h1>
      </div>
      <p class="login-subtitle">Secure Banking Login</p>
    </div>

    <!-- login type toggle -->
    <div class="login-type-toggle">
      <span class="toggle-label" [class.active]="loginType() === 'email'">Email</span>
      <label class="toggle-switch">
        <input type="checkbox" [checked]="loginType() === 'mobile'" (change)="onLoginTypeChange($event)">
        <span class="toggle-slider"></span>
      </label>
      <span class="toggle-label" [class.active]="loginType() === 'mobile'">Mobile</span>
    </div>

    <!-- form -->
    <form class="login-form" (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="form-group">
        <label for="username" class="form-label">
          {{ loginType() === 'email' ? 'Email Address' : 'Mobile Number' }}
        </label>
        <input
          [type]="loginType() === 'email' ? 'email' : 'tel'"
          id="username"
          name="username"
          class="form-input"
          [class.error]="usernameError() && isFormTouched()"
          [value]="username()"
          (input)="onUsernameChange($event)"
          (blur)="onUsernameBlur()"
          required
          [autocomplete]="loginType() === 'email' ? 'email' : 'tel'"
          [placeholder]="loginType() === 'email' ? 'Enter your email address' : 'Enter your mobile number'"
        />
        <div class="input-icon">
          <svg *ngIf="loginType() === 'email'" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <svg *ngIf="loginType() === 'mobile'" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="5" y="2" width="14" height="20" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
            <line x1="12" y1="18" x2="12.01" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="error-message" *ngIf="usernameError() && isFormTouched()">
          {{ usernameError() }}
        </div>
      </div>

      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <input
          type="password"
          id="password"
          name="password"
          class="form-input"
          [class.error]="passwordError() && isFormTouched()"
          [value]="password()"
          (input)="onPasswordChange($event)"
          (blur)="onPasswordBlur()"
          required
          autocomplete="current-password"
          placeholder="Enter your password"
        />
        <div class="input-icon">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
            <circle cx="12" cy="16" r="1" stroke="currentColor" stroke-width="2"/>
            <path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2"/>
          </svg>
        </div>
        <div class="error-message" *ngIf="passwordError() && isFormTouched()">
          {{ passwordError() }}
        </div>
      </div>

      <div class="form-options">
        <label class="checkbox-container">
          <input type="checkbox" [checked]="rememberMe()" (change)="onRememberMeChange($event)" name="rememberMe">
          <span class="checkmark"></span>
          Remember me
        </label>
        <a href="#" class="forgot-password">Forgot password?</a>
      </div>

      <button type="submit" class="login-button" [class.loading]="isLoading()" [disabled]="isLoading() || (isFormTouched() && (usernameError() || passwordError()))">
        <span class="button-text">{{ isLoading() ? 'Signing In...' : 'Sign In' }}</span>
        <svg class="button-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" *ngIf="!isLoading()">
          <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </form>

    <!-- footer -->
    <div class="login-footer">
      <p class="security-note">
        <svg class="security-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 22S8 18 8 13V6L12 4L16 6V13C16 18 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Your connection is secure and encrypted
      </p>
      <div class="help-links">
        <a href="#">Need Help?</a>
        <span>•</span>
        <a [routerLink]="['/register']">Register</a>
        <span>•</span>
        <a href="#">Contact Us</a>
      </div>
    </div>
  </div>
</div>
